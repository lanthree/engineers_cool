# 操作系统

## 进程间的通信方式

首先需要理解下面的概念：
+ 竞态条件：即两个或多个线程同时对一个共享数据进行修改，从而影响程序运行的正确性时，被称为竞态条件（race condition）。
+ 临界区：不仅共享数据会造成竞态条件，事实上共享文件、共享内存也会造成竞态条件，避免方式可以概括为：禁止一个或多个进程在同一时刻对共享资源（包括共享内存、共享文件等）进行读写。而读写共享资源的程序片段，就是临界区。

进程间的通信方式：管道、消息队列、信号量、信号、共享内存、socket套接字

+ 管道：无名管道、有名管道
    + 无名管道：半双工通信，具有固定的读端和写端；是一个特殊的文件；只用于亲属进程间的通信；
    + 有名管道：和无名管道类似，但可以用于非亲属进程间的通信
+ 消息队列：是一个链接表，存放于系统的内核。消息队列有特定的格式和优先级。具有读权限的进程可以向消息队列读数据，具有写权限的进程刻意向消息队列中添加数据。
+ 信号量：是一个计数器，用于进程间同步与互斥，不记录进程间通信的数据
+ 信号：是一个复杂的通信方式，一帮用于通知接收进程某件事已发生
+ 共享内存：多个进程共享同一个内存区域，不同进程可以及时看到其他进程对数据的修改
+ socket套接字：用于不同主机间的进程通信

## 进程和线程的区别

操作系统为正在运行的程序提供的抽象，就是所谓的进程（process）。

+ 一个进程可以包含多个线程；线程在进程下进行
+ 不同进程数据很难共享
+ 同一进程下不同线程间数据很易共享
+ 进程要比线程消耗更多的计算机资源
+ 进程间不会互相影响，一个线程挂掉将导致整个进程挂掉
+ 进程可以扩展到多机，线程最多扩展到多核
+ 线程使用的内存地址可以上锁，即一个线程使用某些共享内存时，其他线程必须等他结束，才能使用这一块内存 - 互斥锁
+ 进程使用的内存地址可以限定使用量 - 信号量

