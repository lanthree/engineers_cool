# 279. å®Œå…¨å¹³æ–¹æ•° 

[åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/perfect-squares/)

é¢„å¤„ç†æ‰€æœ‰ï¼ˆå°äºç­‰äº10000ï¼‰çš„å®Œå…¨å¹³æ–¹æ•°éƒ½æœ‰å“ªäº›ã€‚ç„¶åå°±æ˜¯ç±»ä¼¼é›¶é’±é—®é¢˜çš„DPã€‚

```cpp
class Solution {
    int num_sqs[101];
public:
    Solution() {
        for (int i = 0; i <= 100; i++)
            num_sqs[i] = i*i;
    }

public:
    int numSquares(int n) {
        int dp[10001];
        memset(dp, 0, sizeof(int)*10001);

        for (int i = 0; i <= 100; i++) {
            dp[num_sqs[i]] = 1;
        }

        for (int i = 1; i < n; i++) {
            if (dp[i] == 0)
                continue;

            int sqs_idx = 1;
            while (i+num_sqs[sqs_idx] <= n && sqs_idx <= 100) {
                int sum = i+num_sqs[sqs_idx];
                dp[sum] == 0 ? dp[sum] = dp[i]+1 : dp[sum] = min(dp[sum], dp[i]+1);
                sqs_idx++;
            }
        }

        return dp[n];
    }
};
```

å®˜æ–¹é¢˜è§£çš„å†™æ³•ç®€åŒ–äº†å¾ˆå¤šï¼š
1. æ²¡æœ‰é¢„å…ˆç”Ÿæˆæ‰€æœ‰å®Œå…¨å¹³æ–¹æ•°
2. dpå€¼é¢„å¤„ç†ä¸º`INT_MAX`ï¼Œè¿™æ ·å°±ä¸ç”¨å•ç‹¬å¤„ç†æˆ‘è¿™é‡Œçš„`dp[num_sqs[i]] = 1`çš„åˆå§‹åŒ–ï¼Œä¹Ÿä¸ç”¨åœ¨å¾ªç¯å†…`minæ—¶ç‰¹åˆ¤dp[sum] == 0`çš„æƒ…å†µï¼Œå‰å®³äº†ğŸ‘

```cpp
class Solution {
public:
    int numSquares(int n) {
        vector<int> f(n + 1);
        for (int i = 1; i <= n; i++) {
            int minn = INT_MAX;
            for (int j = 1; j * j <= i; j++) {
                minn = min(minn, f[i - j * j]);
            }
            f[i] = minn + 1;
        }
        return f[n];
    }
};
```
